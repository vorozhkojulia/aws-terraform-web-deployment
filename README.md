# AWS Terraform & Packer Project for NGINX Deployment

This project automates the deployment of an NGINX web server on AWS using Terraform and Packer. The process involves creating an Amazon Machine Image (AMI) with Packer and using Terraform to launch an EC2 instance with that AMI.

## Project Structure

- **`main.tf`**: Terraform configuration file to provision an EC2 instance and a security group on AWS.
- **`nginx-packer.json`**: Packer configuration file to create an AMI with NGINX installed and a website copied to the server.
- **`manifest.json`**: Generated by Packer, containing metadata about the built AMI.

## Prerequisites

- AWS account with IAM user credentials (Access Key ID and Secret Access Key).
- Terraform and Packer installed locally.
- AWS CLI configured locally with the required IAM credentials.

## Setup Instructions

#### 1. Clone the Repository

```bash
git clone git@github.com:vorozhkojulia/aws-terraform-web-deployment.git
cd aws-terraform-web-deployment
```



#### 2. Configure Packer

Modify the `nginx-packer.json` file and update the following variables with your AWS credentials and settings:

```json
"aws_access_key": "YOUR_AWS_ACCESS_KEY",
"aws_secret_key": "YOUR_AWS_SECRET_KEY",
"source_ami": "ami-0aff18ec83b712f05",
"aws_region": "us-west-2",
"instance_type": "t2.micro"
```

and update source file for provisioners

```json
"source": "YOUR_PATH_TO_WEBSITE_FILES"
```

#### 3. Build the AMI with Packer

Run the following command to build the AMI:

```bash
packer build nginx-packer.json
```

This will create an AMI with NGINX installed and your website files copied to /var/www/html/website. The AMI ID will be saved in the manifest.json file.

#### 4. Deploy with Terraform

Initialize Terraform:

```bash
terraform init
```

Plan the Deployment:

```bash
terraform plan
```

This command will show you the resources that Terraform will create, including an EC2 instance and a security group.

Apply the Deployment:

```bash
terraform apply
```

Confirm the apply command when prompted. Terraform will use the AMI ID from manifest.json to launch an EC2 instance with NGINX and your website already set up.

#### 5. Access the Deployed Website

After the Terraform deployment completes, note the public IP address of the EC2 instance. You can access your website by navigating to this IP address in your web browser.

```bash
terraform output
```

This will show the instance ID, which you can use to fetch the public IP via the AWS console or CLI.

#### 6. Clean Up

To destroy the infrastructure and avoid unnecessary charges:

```bash
terraform destroy
```